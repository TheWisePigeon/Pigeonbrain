Today I worked on [[Visio]] and here is what I learned.

### Retry mechanisms
While deploying on [[Hosting providers#Linode | Linode]] using [[Docker#Compose | docker compose]] I noticed that when I first run `docker-compose up -d` all my services launch successfully except my server which failed to connect to the [[Postgres]] service. I was surprised, but then when I immediately ran `docker start server` after that it successfully connected to the database container. In a [[Docker#Compose | docker compose file]] we can specify which service depends on which, in my `docker-compose.yml` I specified that the [[Golang | Go]] container which ran my app depended on the [[Postgres]] one. But it still failed.
What happened is, saying  that a service depends on another one will just wait for that service's container to be booted up but not actually wait for the "thing" inside to be running, so as soon as the [[Postgres]] container was created, my app's main container was also created and launched while the database itself wasn't ready yet. One way to solve this is using a [[Retry mechanism]] which I did. Mine is very simple as it just wait 5 seconds after a failed connection attempt and then attempts to connect again and panics on failure.